<div class="container mt-4">
  <h1>Editar <%= params[:role].titleize %></h1>

  <%= form_for @user, url: params[:role] == "client" ? admin_client_path(@user) : admin_court_owner_path(@user) do |f| %>
    <% if @user.errors.any? %>
      <div class="alert alert-danger">
        <h2><%= pluralize(@user.errors.count, "erro") %> encontrado:</h2>
        <ul>
          <% @user.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="mb-3">
      <%= f.label :name, "Nome", class: "form-label" %>
      <%= f.text_field :name, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :email, "Email", class: "form-label" %>
      <%= f.email_field :email, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :phone_number, "Telefone", class: "form-label" %>
      <%= f.text_field :phone_number, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :password, "Nova Senha (deixe em branco se nÃ£o quiser alterar)", class: "form-label" %>
      <%= f.password_field :password, class: "form-control" %>
    </div>

    <div class="mb-3">
      <%= f.label :password_confirmation, "Confirmar Nova Senha", class: "form-label" %>
      <%= f.password_field :password_confirmation, class: "form-control" %>
    </div>

    <%= f.submit "Atualizar #{params[:role].titleize}", class: "btn btn-primary" %>
    <%= link_to "Voltar", 
        params[:role] == "client" ? admin_clients_path : admin_court_owners_path, 
        class: "btn btn-secondary" %>
  <% end %>
</div>
